unitconverterhub.com {
	encode gzip zstd

	# Cloudflare → Caddy → Qwik SSR
	reverse_proxy morphy-frontend:3000 {
		header_up Host {host}
		header_up X-Real-IP {remote_host}
		header_up X-Forwarded-For {remote_host}
		header_up X-Forwarded-Proto {scheme}
	}

	# Bez cache dla HTML (ważne dla SSR)
	header Content-Type text/html* {
		Cache-Control "no-store, no-cache, must-revalidate, proxy-revalidate"
	}


	# Security headers
	header {
		Strict-Transport-Security "max-age=31536000; includeSubDomains; preload"
		X-Content-Type-Options "nosniff"
		X-Frame-Options "DENY"
		Referrer-Policy "strict-origin-when-cross-origin"
	}

	log {
		output stdout
		format console
	}
}
